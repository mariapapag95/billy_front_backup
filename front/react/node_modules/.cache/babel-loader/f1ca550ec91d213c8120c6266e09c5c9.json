{"ast":null,"code":"var _jsxFileName = \"/Users/admin/billy/front/react/src/components/CheckoutForm.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complete: false\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    let _ref = await this.props.stripe.createToken({\n      name: \"Name\"\n    }),\n        token = _ref.token;\n\n    let response = await fetch(\"/charge\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\"\n      },\n      body: token.id\n    });\n    console.log(response);\n    if (response.ok) this.setState({\n      complete: true\n    });\n  }\n\n  render() {\n    if (this.state.complete) return React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Purchase Complete\");\n    return React.createElement(\"div\", {\n      className: \"checkout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(CardElement, {\n      style: {\n        backgroundColor: white\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"likebutton\",\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Complete Purchase\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/admin/billy/front/react/src/components/CheckoutForm.js"],"names":["React","Component","CardElement","injectStripe","CheckoutForm","constructor","props","state","complete","submit","bind","ev","stripe","createToken","name","token","response","fetch","method","headers","body","id","console","log","ok","setState","render","backgroundColor","white"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,uBAAxC;;AAEA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AACnCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAb;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAED,QAAMD,MAAN,CAAaE,EAAb,EAAiB;AAAA,eACD,MAAM,KAAKL,KAAL,CAAWM,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,MAAAA,IAAI,EAAE;AAAP,KAA9B,CADL;AAAA,QACVC,KADU,QACVA,KADU;;AAEjB,QAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAY;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAF2B;AAGpCC,MAAAA,IAAI,EAAEL,KAAK,CAACM;AAHwB,KAAZ,CAA1B;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AAEA,QAAIA,QAAQ,CAACQ,EAAb,EAAiB,KAAKC,QAAL,CAAc;AAACjB,MAAAA,QAAQ,EAAE;AAAX,KAAd;AAChB;;AAEDkB,EAAAA,MAAM,GAAG;AAEP,QAAI,KAAKnB,KAAL,CAAWC,QAAf,EAAyB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AAEzB,WACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAE;AAACmB,QAAAA,eAAe,EAAEC;AAAlB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAE,KAAKnB,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFF,CADF;AAMD;;AA9BkC;;AAiCrC,eAAeN,YAAY,CAACC,YAAD,CAA3B","sourcesContent":["import React, {Component} from 'react';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {complete: false};\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    let {token} = await this.props.stripe.createToken({name: \"Name\"});\n  let response = await fetch(\"/charge\", {\n    method: \"POST\",\n    headers: {\"Content-Type\": \"text/plain\"},\n    body: token.id\n  });\n\n  console.log(response)\n\n  if (response.ok) this.setState({complete: true});\n  }\n\n  render() {\n   \n    if (this.state.complete) return <h1>Purchase Complete</h1>;\n\n    return (\n      <div className=\"checkout\">\n        <CardElement style={{backgroundColor: white}}/>\n        <button className=\"likebutton\" onClick={this.submit}>Complete Purchase</button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n"]},"metadata":{},"sourceType":"module"}