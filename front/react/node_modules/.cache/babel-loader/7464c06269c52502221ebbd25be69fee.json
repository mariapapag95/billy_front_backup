{"ast":null,"code":"var _jsxFileName = \"/Users/admin/billy/front/react/src/components/Dash.js\";\nimport React from 'react';\nimport Post from './Post';\nimport Nav from './Nav';\nimport PayForm from './PayForm';\nimport PostForm from './PostForm';\nconst url = \"http://127.0.0.1:5000/api/\";\nexport default class Dash extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchAll = () => {\n      fetch(url + 'all').then(blob => blob.json()).then(json => {\n        let allPosts = json;\n        this.setState({\n          allPosts: allPosts\n        });\n      }); // .then (\n      //     fetch (\"https://connect.stripe.com/oauth/token\")\n      // )\n    };\n\n    this.state = {\n      allPosts: [],\n      payForm: false,\n      postForm: false,\n      amountPaid: undefined,\n      note: '',\n      id: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.fetchAll();\n  }\n\n  pay(id) {\n    console.log(\"pay function fired with this id::\", id);\n    fetch(url + \"bills/\".concat(id)).then(blob => blob.json()).then(json => {\n      let bill = json;\n      this.setState({\n        allPosts: [bill],\n        payForm: true,\n        id: id\n      });\n      console.log(\"this is BILL in pay(id)\", this.state.allPosts);\n      this.setState({\n        payForm: true\n      });\n    });\n  } // payBill() {\n  //         let post = {\n  //         'amountPaid': this.state.amountPaid, \n  //         'note': this.state.note,}\n  //     fetch (url+`bills/${this.state.id}/pay`, {\n  //         headers: {\"Content-Type\" : \"application/json\"}, \n  //         body: JSON.stringify(post),\n  //         mode:\"cors\",\n  //         method:\"post\"\n  //     })\n  // }\n  // handleInput() {\n  //     this.setState({\n  //         amountPaid: document.getElementById('amountPaid').value,\n  //         note: document.getElementById('note').value\n  //     }, ()=>this.payBill())\n  // }\n\n\n  like(id) {\n    console.log(\"LIKE button pressed with this id::\", id);\n  }\n\n  makePost() {\n    this.setState({\n      postForm: !this.state.postForm\n    });\n  }\n\n  test() {\n    console.log(\"this is a test\");\n  } // pay(e) {\n  //     let billAmount = e.target.value\n  //     console.log(billAmount)\n  //     onClick={e => this.pay(e, \"value\")}\n  // }\n\n\n  render() {\n    let posts = this.state.allPosts.map((element, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Post, {\n        total: element.total_due || element.amount_paid,\n        user: element.due_by || element.paid_by,\n        company: element.due_to || element.paid_to,\n        time: element.created_on,\n        text: element.caption || element.note,\n        key: i,\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: element.bill_id || element.payment_id,\n        className: element.bill_id === undefined ? \"likebutton\" : \"paybutton\",\n        onClick: () => {\n          element.total_due === undefined ? this.like(element.payment_id) : this.pay(element.bill_id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, element.bill_id === undefined ? \"LIKE\" : \"PAY\"));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"test\",\n      onClick: () => {\n        this.makePost();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"POST YOUR BILL\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(PostForm, {\n      hidden: this.state.postForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, posts), React.createElement(PayForm, {\n      hidden: this.state.payForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))\n    /* <div className='makepost'>\n    <form>\n        <input \n        className='input'\n        id='amountPaid'\n        placeholder='Enter $ amount'>\n        </input>\n        <input \n        className='input'\n        id='note'\n        placeholder='add note'>\n        </input>\n        <button \n        className=\"test\"\n        type=\"submit\"\n        onClick={()=>{this.handleInput()}}>\n        PAY\n        </button>\n    </form>\n    </div>\n    <PayForm hidden={this.state.payForm}/>\n    </div>\n    <div className=\"box\">\n    <Form className=\"box\">\n    <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control type=\"email\" placeholder=\"Enter email\" />\n    <Form.Text className=\"text-muted\">\n    We'll never share your email with anyone else.\n    </Form.Text>\n    </Form.Group>\n    <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control type=\"password\" placeholder=\"Password\" />\n    </Form.Group>\n    <Form.Group controlId=\"formBasicChecbox\">\n    <Form.Check type=\"checkbox\" label=\"Check me out\" />\n    </Form.Group>\n    <Button variant=\"primary\" type=\"submit\">\n    Submit\n    </Button>\n    </Form>\n    </div> */\n    ;\n  }\n\n}","map":{"version":3,"sources":["/Users/admin/billy/front/react/src/components/Dash.js"],"names":["React","Post","Nav","PayForm","PostForm","url","Dash","Component","constructor","props","fetchAll","fetch","then","blob","json","allPosts","setState","state","payForm","postForm","amountPaid","undefined","note","id","componentDidMount","pay","console","log","bill","like","makePost","test","render","posts","map","element","i","total_due","amount_paid","due_by","paid_by","due_to","paid_to","created_on","caption","fontWeight","bill_id","payment_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Post from './Post'\nimport Nav  from './Nav'\nimport PayForm from './PayForm'\nimport PostForm from './PostForm';\n\nconst url = `http://127.0.0.1:5000/api/`\n\nexport default class Dash extends React.Component {\n    constructor(props){\n    super(props)\n    this.state = {\n        allPosts: [],\n        payForm: false,\n        postForm: false,\n        amountPaid: undefined,\n        note: '',\n        id: undefined,\n    }\n}\n\n    fetchAll = () => {\n        fetch(url+'all')\n        .then (blob => blob.json()).then(json => {\n            let allPosts = json\n            this.setState({allPosts : allPosts})\n            })\n        // .then (\n        //     fetch (\"https://connect.stripe.com/oauth/token\")\n        // )\n    }\n\n    componentDidMount() {\n        this.fetchAll()\n    }\n\n    pay(id) {\n        console.log(\"pay function fired with this id::\", id)\n        fetch (url+`bills/${id}`)\n        .then (blob => blob.json()).then(json => {\n            let bill = json\n            this.setState({allPosts : [bill], payForm : true, id : id})\n            console.log(\"this is BILL in pay(id)\", this.state.allPosts)\n            this.setState({payForm : true})\n        })\n    }\n        \n    // payBill() {\n    //         let post = {\n    //         'amountPaid': this.state.amountPaid, \n    //         'note': this.state.note,}\n    //     fetch (url+`bills/${this.state.id}/pay`, {\n    //         headers: {\"Content-Type\" : \"application/json\"}, \n    //         body: JSON.stringify(post),\n    //         mode:\"cors\",\n    //         method:\"post\"\n    //     })\n    // }\n\n    // handleInput() {\n    //     this.setState({\n    //         amountPaid: document.getElementById('amountPaid').value,\n    //         note: document.getElementById('note').value\n    //     }, ()=>this.payBill())\n    // }\n\n    like(id) {\n        console.log(\"LIKE button pressed with this id::\", id)\n    }\n\n    makePost() {\n        this.setState({postForm : !this.state.postForm})\n    }\n\n    test() {\n        console.log(\"this is a test\")\n    }\n\n    // pay(e) {\n    //     let billAmount = e.target.value\n    //     console.log(billAmount)\n\n    //     onClick={e => this.pay(e, \"value\")}\n    // }\n\n    render () {\n        let posts = this.state.allPosts.map((element, i) => {\n            return <div key={i}>\n            <Post \n            total={element.total_due || element.amount_paid} \n            user={element.due_by || element.paid_by}\n            company={element.due_to || element.paid_to}\n            time={element.created_on}\n            text={element.caption || element.note}\n            key={i}\n            style={{fontWeight :'bold'}}/>\n            <button \n            id={element.bill_id || element.payment_id} \n            className={element.bill_id === undefined ? \"likebutton\" : \"paybutton\"} \n            onClick={()=>{element.total_due === undefined ? this.like(element.payment_id) : this.pay(element.bill_id)}}>\n            {element.bill_id === undefined ? \"LIKE\" : \"PAY\"}\n            </button>\n            </div>\n        })\n        return (\n            <div>\n                <div>\n                <Nav/>\n                </div>\n                {/* <button className=\"test\" onClick={()=>{this.test()}}>\n                    test\n                </button> */}\n                <button \n                className=\"test\"\n                onClick={()=>{this.makePost()}}>\n                {\"POST YOUR BILL\"}\n                </button>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                <PostForm hidden={this.state.postForm}/>\n                <div>{posts}</div>\n\n                <PayForm hidden = {this.state.payForm}\n                />\n                </div>\n                \n                /* <div className='makepost'>\n                <form>\n                    <input \n                    className='input'\n                    id='amountPaid'\n                    placeholder='Enter $ amount'>\n                    </input>\n                    <input \n                    className='input'\n                    id='note'\n                    placeholder='add note'>\n                    </input>\n                    <button \n                    className=\"test\"\n                    type=\"submit\"\n                    onClick={()=>{this.handleInput()}}>\n                    PAY\n                    </button>\n                </form>\n            </div>\n                <PayForm hidden={this.state.payForm}/>\n            </div>\n\n\n\n\n            <div className=\"box\">\n            <Form className=\"box\">\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Email address</Form.Label>\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\n                <Form.Text className=\"text-muted\">\n                We'll never share your email with anyone else.\n                </Form.Text>\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" placeholder=\"Password\" />\n            </Form.Group>\n            <Form.Group controlId=\"formBasicChecbox\">\n                <Form.Check type=\"checkbox\" label=\"Check me out\" />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n                Submit\n            </Button>\n            </Form>\n            </div> */\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}